ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"port.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.nnOsPort_KernelLaunch,"ax",%progbits
  18              		.align	1
  19              		.global	nnOsPort_KernelLaunch
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	nnOsPort_KernelLaunch:
  25              	.LVL0:
  26              	.LFB65:
  27              		.file 1 "nnRtos/port/CM3F/port.c"
   1:nnRtos/port/CM3F/port.c **** #include "port.h"
   2:nnRtos/port/CM3F/port.c **** 
   3:nnRtos/port/CM3F/port.c **** uint32_t nnOs_SystemTime;
   4:nnRtos/port/CM3F/port.c **** 
   5:nnRtos/port/CM3F/port.c **** void (*IncrementSystemTimeFunPtr)(void);
   6:nnRtos/port/CM3F/port.c **** 
   7:nnRtos/port/CM3F/port.c **** 
   8:nnRtos/port/CM3F/port.c **** 
   9:nnRtos/port/CM3F/port.c **** void nnOsSchedulerLaunch(void);
  10:nnRtos/port/CM3F/port.c **** 
  11:nnRtos/port/CM3F/port.c **** void nnOsPort_KernelLaunch(uint32_t quanta, uint32_t millis_prescaler){
  28              		.loc 1 11 71 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 11 71 is_stmt 0 view .LVU1
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  12:nnRtos/port/CM3F/port.c **** 	SysTick->CTRL =0;
  38              		.loc 1 12 2 is_stmt 1 view .LVU2
  39              		.loc 1 12 16 is_stmt 0 view .LVU3
  40 0002 4FF0E023 		mov	r3, #-536813568
  41 0006 0022     		movs	r2, #0
  42 0008 1A61     		str	r2, [r3, #16]
  13:nnRtos/port/CM3F/port.c **** 	SysTick->VAL  =0;
  43              		.loc 1 13 2 is_stmt 1 view .LVU4
  44              		.loc 1 13 16 is_stmt 0 view .LVU5
  45 000a 9A61     		str	r2, [r3, #24]
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s 			page 2


  14:nnRtos/port/CM3F/port.c **** 	SysTick->LOAD =  (quanta*millis_prescaler)-1;
  46              		.loc 1 14 2 is_stmt 1 view .LVU6
  47              		.loc 1 14 26 is_stmt 0 view .LVU7
  48 000c 01FB00F0 		mul	r0, r1, r0
  49              	.LVL1:
  50              		.loc 1 14 44 view .LVU8
  51 0010 0138     		subs	r0, r0, #1
  52              		.loc 1 14 16 view .LVU9
  53 0012 5861     		str	r0, [r3, #20]
  15:nnRtos/port/CM3F/port.c **** 
  16:nnRtos/port/CM3F/port.c **** 	SYSPRI3 =(SYSPRI3&0x00FFFFFF)|0xE0000000; // priority 7
  54              		.loc 1 16 2 is_stmt 1 view .LVU10
  55              		.loc 1 16 12 is_stmt 0 view .LVU11
  56 0014 D3F8202D 		ldr	r2, [r3, #3360]
  57              		.loc 1 16 19 view .LVU12
  58 0018 22F07F42 		bic	r2, r2, #-16777216
  59              		.loc 1 16 31 view .LVU13
  60 001c 42F06042 		orr	r2, r2, #-536870912
  61              		.loc 1 16 10 view .LVU14
  62 0020 C3F8202D 		str	r2, [r3, #3360]
  17:nnRtos/port/CM3F/port.c **** 	SYSPRI3 =(SYSPRI3&0xFF00FFFF)|0x00010000; // priority 1 PendSV
  63              		.loc 1 17 2 is_stmt 1 view .LVU15
  64              		.loc 1 17 12 is_stmt 0 view .LVU16
  65 0024 D3F8202D 		ldr	r2, [r3, #3360]
  66              		.loc 1 17 19 view .LVU17
  67 0028 22F47F02 		bic	r2, r2, #16711680
  68              		.loc 1 17 31 view .LVU18
  69 002c 42F48032 		orr	r2, r2, #65536
  70              		.loc 1 17 10 view .LVU19
  71 0030 C3F8202D 		str	r2, [r3, #3360]
  18:nnRtos/port/CM3F/port.c **** 	SysTick->CTRL =  0x00000007;
  72              		.loc 1 18 2 is_stmt 1 view .LVU20
  73              		.loc 1 18 16 is_stmt 0 view .LVU21
  74 0034 0722     		movs	r2, #7
  75 0036 1A61     		str	r2, [r3, #16]
  19:nnRtos/port/CM3F/port.c **** 
  20:nnRtos/port/CM3F/port.c **** 	nnOsSchedulerLaunch();
  76              		.loc 1 20 2 is_stmt 1 view .LVU22
  77 0038 FFF7FEFF 		bl	nnOsSchedulerLaunch
  78              	.LVL2:
  21:nnRtos/port/CM3F/port.c **** }
  79              		.loc 1 21 1 is_stmt 0 view .LVU23
  80 003c 08BD     		pop	{r3, pc}
  81              		.cfi_endproc
  82              	.LFE65:
  84              		.section	.text.nnPort_ThreadYield,"ax",%progbits
  85              		.align	1
  86              		.global	nnPort_ThreadYield
  87              		.syntax unified
  88              		.thumb
  89              		.thumb_func
  91              	nnPort_ThreadYield:
  92              	.LFB66:
  22:nnRtos/port/CM3F/port.c **** 
  23:nnRtos/port/CM3F/port.c **** void nnPort_ThreadYield(void){
  93              		.loc 1 23 30 is_stmt 1 view -0
  94              		.cfi_startproc
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s 			page 3


  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97              		@ link register save eliminated.
  24:nnRtos/port/CM3F/port.c **** INTCTRL  =  0x10000000; //Trigger PendSV - Contex Switcher
  98              		.loc 1 24 1 view .LVU25
  99              		.loc 1 24 10 is_stmt 0 view .LVU26
 100 0000 4FF0E023 		mov	r3, #-536813568
 101 0004 4FF08052 		mov	r2, #268435456
 102 0008 C3F8042D 		str	r2, [r3, #3332]
  25:nnRtos/port/CM3F/port.c **** }
 103              		.loc 1 25 1 view .LVU27
 104 000c 7047     		bx	lr
 105              		.cfi_endproc
 106              	.LFE66:
 108              		.section	.text.nnOsRegisterSysIncrementCb,"ax",%progbits
 109              		.align	1
 110              		.global	nnOsRegisterSysIncrementCb
 111              		.syntax unified
 112              		.thumb
 113              		.thumb_func
 115              	nnOsRegisterSysIncrementCb:
 116              	.LVL3:
 117              	.LFB67:
  26:nnRtos/port/CM3F/port.c **** 
  27:nnRtos/port/CM3F/port.c **** void nnOsRegisterSysIncrementCb(void (*SysIncFunPtr)(void))
  28:nnRtos/port/CM3F/port.c **** {
 118              		.loc 1 28 1 is_stmt 1 view -0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 0
 121              		@ frame_needed = 0, uses_anonymous_args = 0
 122              		@ link register save eliminated.
  29:nnRtos/port/CM3F/port.c **** 	IncrementSystemTimeFunPtr = SysIncFunPtr;
 123              		.loc 1 29 2 view .LVU29
 124              		.loc 1 29 28 is_stmt 0 view .LVU30
 125 0000 014B     		ldr	r3, .L5
 126 0002 1860     		str	r0, [r3]
  30:nnRtos/port/CM3F/port.c **** }
 127              		.loc 1 30 1 view .LVU31
 128 0004 7047     		bx	lr
 129              	.L6:
 130 0006 00BF     		.align	2
 131              	.L5:
 132 0008 00000000 		.word	.LANCHOR0
 133              		.cfi_endproc
 134              	.LFE67:
 136              		.section	.text.SysTickCHandler,"ax",%progbits
 137              		.align	1
 138              		.global	SysTickCHandler
 139              		.syntax unified
 140              		.thumb
 141              		.thumb_func
 143              	SysTickCHandler:
 144              	.LFB68:
  31:nnRtos/port/CM3F/port.c **** 
  32:nnRtos/port/CM3F/port.c **** void SysTickCHandler(void) // TODO: This fun shoudn't exist - I should write it in Assembly leangue
  33:nnRtos/port/CM3F/port.c **** {
 145              		.loc 1 33 1 is_stmt 1 view -0
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s 			page 4


 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149 0000 08B5     		push	{r3, lr}
 150              	.LCFI1:
 151              		.cfi_def_cfa_offset 8
 152              		.cfi_offset 3, -8
 153              		.cfi_offset 14, -4
  34:nnRtos/port/CM3F/port.c **** 	IncrementSystemTimeFunPtr(); //If this callback will bw not registered MemFault will be indicated
 154              		.loc 1 34 2 view .LVU33
 155 0002 054B     		ldr	r3, .L9
 156 0004 1B68     		ldr	r3, [r3]
 157 0006 9847     		blx	r3
 158              	.LVL4:
  35:nnRtos/port/CM3F/port.c **** 	INTCTRL  =  0x10000000; //Trigger PendSV - Contex Switcher
 159              		.loc 1 35 2 view .LVU34
 160              		.loc 1 35 11 is_stmt 0 view .LVU35
 161 0008 4FF0E023 		mov	r3, #-536813568
 162 000c 4FF08052 		mov	r2, #268435456
 163 0010 C3F8042D 		str	r2, [r3, #3332]
  36:nnRtos/port/CM3F/port.c **** }
 164              		.loc 1 36 1 view .LVU36
 165 0014 08BD     		pop	{r3, pc}
 166              	.L10:
 167 0016 00BF     		.align	2
 168              	.L9:
 169 0018 00000000 		.word	.LANCHOR0
 170              		.cfi_endproc
 171              	.LFE68:
 173              		.global	IncrementSystemTimeFunPtr
 174              		.global	nnOs_SystemTime
 175              		.section	.bss.IncrementSystemTimeFunPtr,"aw",%nobits
 176              		.align	2
 177              		.set	.LANCHOR0,. + 0
 180              	IncrementSystemTimeFunPtr:
 181 0000 00000000 		.space	4
 182              		.section	.bss.nnOs_SystemTime,"aw",%nobits
 183              		.align	2
 186              	nnOs_SystemTime:
 187 0000 00000000 		.space	4
 188              		.text
 189              	.Letext0:
 190              		.file 2 "d:\\gnu_tools\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\machine\\_
 191              		.file 3 "d:\\gnu_tools\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\sys\\_stdi
 192              		.file 4 "Drivers/CMSIS/Core/Include/core_cm3.h"
 193              		.file 5 "nnRtos/port/CM3F/port.h"
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 port.c
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:18     .text.nnOsPort_KernelLaunch:00000000 $t
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:24     .text.nnOsPort_KernelLaunch:00000000 nnOsPort_KernelLaunch
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:85     .text.nnPort_ThreadYield:00000000 $t
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:91     .text.nnPort_ThreadYield:00000000 nnPort_ThreadYield
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:109    .text.nnOsRegisterSysIncrementCb:00000000 $t
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:115    .text.nnOsRegisterSysIncrementCb:00000000 nnOsRegisterSysIncrementCb
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:132    .text.nnOsRegisterSysIncrementCb:00000008 $d
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:137    .text.SysTickCHandler:00000000 $t
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:143    .text.SysTickCHandler:00000000 SysTickCHandler
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:169    .text.SysTickCHandler:00000018 $d
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:180    .bss.IncrementSystemTimeFunPtr:00000000 IncrementSystemTimeFunPtr
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:186    .bss.nnOs_SystemTime:00000000 nnOs_SystemTime
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:176    .bss.IncrementSystemTimeFunPtr:00000000 $d
C:\Users\Teodor\AppData\Local\Temp\ccEeuPGE.s:183    .bss.nnOs_SystemTime:00000000 $d

UNDEFINED SYMBOLS
nnOsSchedulerLaunch
