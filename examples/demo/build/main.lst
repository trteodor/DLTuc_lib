ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.UART2_TransmitDMAEndCallBack,"ax",%progbits
  18              		.align	1
  19              		.global	UART2_TransmitDMAEndCallBack
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	UART2_TransmitDMAEndCallBack:
  25              	.LFB65:
  26              		.file 1 "main.c"
   1:main.c        **** #define DLT_LOG_CONTEX           "MAIN"
   2:main.c        **** #define DLT_LOG_APPID            "NUM1"
   3:main.c        **** 
   4:main.c        **** #include "main.h"
   5:main.c        **** #include "DLTuc.h"
   6:main.c        **** #include "nnRTOS.h"
   7:main.c        **** #include "stdint.h"
   8:main.c        **** 
   9:main.c        **** 
  10:main.c        **** UART_DMA_Handle_Td *Uart2HandlerPointer;  
  11:main.c        **** 
  12:main.c        **** 
  13:main.c        **** /*CallBacks used by ucDltLibrary section start..*/
  14:main.c        **** void UART2_TransmitDMAEndCallBack()
  15:main.c        **** {
  27              		.loc 1 15 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 08B5     		push	{r3, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
  16:main.c        **** 	DLTuc_MessageTransmitDone(); /*Inform ucDLTlib about message transmission end*/
  36              		.loc 1 16 2 view .LVU1
  37 0002 FFF7FEFF 		bl	DLTuc_MessageTransmitDone
  38              	.LVL0:
  17:main.c        **** 		/*This way to make this example simple to read...*/
  18:main.c        **** }
  39              		.loc 1 18 1 is_stmt 0 view .LVU2
  40 0006 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s 			page 2


  41              		.cfi_endproc
  42              	.LFE65:
  44              		.section	.text.UART2_LowLevelDataTransmit,"ax",%progbits
  45              		.align	1
  46              		.global	UART2_LowLevelDataTransmit
  47              		.syntax unified
  48              		.thumb
  49              		.thumb_func
  51              	UART2_LowLevelDataTransmit:
  52              	.LVL1:
  53              	.LFB66:
  19:main.c        **** 
  20:main.c        **** 
  21:main.c        **** /*This CallBack was registered in main function using function: DLTuc_RegisterTransmitSerialDataCal
  22:main.c        **** void UART2_LowLevelDataTransmit(uint8_t *DltLogData, uint8_t Size)
  23:main.c        **** {
  54              		.loc 1 23 1 is_stmt 1 view -0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
  58              		.loc 1 23 1 is_stmt 0 view .LVU4
  59 0000 08B5     		push	{r3, lr}
  60              	.LCFI1:
  61              		.cfi_def_cfa_offset 8
  62              		.cfi_offset 3, -8
  63              		.cfi_offset 14, -4
  64 0002 0A46     		mov	r2, r1
  24:main.c        **** 	/*This function is called by ucDLTlib when is something to send*/
  25:main.c        **** 
  26:main.c        **** 	TUART_DMA_Trasmit(Uart2HandlerPointer,DltLogData,Size); /*Call of this function may block contex!!
  65              		.loc 1 26 2 is_stmt 1 view .LVU5
  66 0004 0146     		mov	r1, r0
  67              	.LVL2:
  68              		.loc 1 26 2 is_stmt 0 view .LVU6
  69 0006 024B     		ldr	r3, .L5
  70 0008 1868     		ldr	r0, [r3]
  71              	.LVL3:
  72              		.loc 1 26 2 view .LVU7
  73 000a FFF7FEFF 		bl	TUART_DMA_Trasmit
  74              	.LVL4:
  27:main.c        **** 		/*This way to make this example simple to read...*/
  28:main.c        **** }
  75              		.loc 1 28 1 view .LVU8
  76 000e 08BD     		pop	{r3, pc}
  77              	.L6:
  78              		.align	2
  79              	.L5:
  80 0010 00000000 		.word	.LANCHOR0
  81              		.cfi_endproc
  82              	.LFE66:
  84              		.section	.rodata.main.str1.4,"aMS",%progbits,1
  85              		.align	2
  86              	.LC0:
  87 0000 444C5420 		.ascii	"DLT TESTS START!!!\000"
  87      54455354 
  87      53205354 
  87      41525421 
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s 			page 3


  87      212100
  88              		.section	.text.main,"ax",%progbits
  89              		.align	1
  90              		.global	main
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  95              	main:
  96              	.LFB67:
  29:main.c        **** /*CallBacks used by ucDltLibrary section end..*/
  30:main.c        **** 
  31:main.c        **** extern void TaskContex1(void);
  32:main.c        **** extern void TaskContex2(void);
  33:main.c        **** extern void TaskContex3(void);
  34:main.c        **** 
  35:main.c        **** 
  36:main.c        **** uint32_t count6,count7;
  37:main.c        **** 
  38:main.c        **** int main(void)
  39:main.c        **** {
  97              		.loc 1 39 1 is_stmt 1 view -0
  98              		.cfi_startproc
  99              		@ Volatile: function does not return.
 100              		@ args = 0, pretend = 0, frame = 0
 101              		@ frame_needed = 0, uses_anonymous_args = 0
 102 0000 08B5     		push	{r3, lr}
 103              	.LCFI2:
 104              		.cfi_def_cfa_offset 8
 105              		.cfi_offset 3, -8
 106              		.cfi_offset 14, -4
  40:main.c        **** 	PLL_Config64MHZ();
 107              		.loc 1 40 2 view .LVU10
 108 0002 FFF7FEFF 		bl	PLL_Config64MHZ
 109              	.LVL5:
  41:main.c        **** 
  42:main.c        **** 	nnOsKernelInit();
 110              		.loc 1 42 2 view .LVU11
 111 0006 FFF7FEFF 		bl	nnOsKernelInit
 112              	.LVL6:
  43:main.c        **** 	if(nnOsAddThread(&TaskContex1,1) != Call_ok)
 113              		.loc 1 43 2 view .LVU12
 114              		.loc 1 43 5 is_stmt 0 view .LVU13
 115 000a 0121     		movs	r1, #1
 116 000c 1748     		ldr	r0, .L16
 117 000e FFF7FEFF 		bl	nnOsAddThread
 118              	.LVL7:
 119              		.loc 1 43 4 view .LVU14
 120 0012 00B1     		cbz	r0, .L8
 121              	.L9:
  44:main.c        **** 	{
  45:main.c        **** 		while(1); //Error!
 122              		.loc 1 45 3 is_stmt 1 discriminator 1 view .LVU15
 123              		.loc 1 45 11 discriminator 1 view .LVU16
 124              		.loc 1 45 8 discriminator 1 view .LVU17
 125 0014 FEE7     		b	.L9
 126              	.L8:
  46:main.c        **** 	}
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s 			page 4


  47:main.c        **** 	if(nnOsAddThread(&TaskContex2,2) != Call_ok)
 127              		.loc 1 47 2 view .LVU18
 128              		.loc 1 47 5 is_stmt 0 view .LVU19
 129 0016 0221     		movs	r1, #2
 130 0018 1548     		ldr	r0, .L16+4
 131 001a FFF7FEFF 		bl	nnOsAddThread
 132              	.LVL8:
 133              		.loc 1 47 4 view .LVU20
 134 001e 00B1     		cbz	r0, .L10
 135              	.L11:
  48:main.c        **** 	{
  49:main.c        **** 		while(1); //Error!
 136              		.loc 1 49 3 is_stmt 1 discriminator 2 view .LVU21
 137              		.loc 1 49 11 discriminator 2 view .LVU22
 138              		.loc 1 49 8 discriminator 2 view .LVU23
 139 0020 FEE7     		b	.L11
 140              	.L10:
  50:main.c        **** 	}
  51:main.c        **** 	if(nnOsAddThread(&TaskContex3,2) != Call_ok)
 141              		.loc 1 51 2 view .LVU24
 142              		.loc 1 51 5 is_stmt 0 view .LVU25
 143 0022 0221     		movs	r1, #2
 144 0024 1348     		ldr	r0, .L16+8
 145 0026 FFF7FEFF 		bl	nnOsAddThread
 146              	.LVL9:
 147              		.loc 1 51 4 view .LVU26
 148 002a 00B1     		cbz	r0, .L12
 149              	.L13:
  52:main.c        **** 	{
  53:main.c        **** 		while(1); //Error!
 150              		.loc 1 53 3 is_stmt 1 discriminator 3 view .LVU27
 151              		.loc 1 53 11 discriminator 3 view .LVU28
 152              		.loc 1 53 8 discriminator 3 view .LVU29
 153 002c FEE7     		b	.L13
 154              	.L12:
  54:main.c        **** 	}
  55:main.c        **** 
  56:main.c        **** 	GPIO_Pin_Cfg(GPIOA,Px5,gpio_mode_output_PP_2MHz);
 155              		.loc 1 56 2 view .LVU30
 156 002e 124C     		ldr	r4, .L16+12
 157 0030 0222     		movs	r2, #2
 158 0032 0521     		movs	r1, #5
 159 0034 2046     		mov	r0, r4
 160 0036 FFF7FEFF 		bl	GPIO_Pin_Cfg
 161              	.LVL10:
  57:main.c        **** 	GPIO_PinSet(GPIOA, Psm5); /*Led is very exicited! :) */
 162              		.loc 1 57 2 view .LVU31
 163 003a 2021     		movs	r1, #32
 164 003c 2046     		mov	r0, r4
 165 003e FFF7FEFF 		bl	GPIO_PinSet
 166              	.LVL11:
  58:main.c        **** 	Uart2HandlerPointer = UART2_Init115200(UART2_TransmitDMAEndCallBack);
 167              		.loc 1 58 2 view .LVU32
 168              		.loc 1 58 24 is_stmt 0 view .LVU33
 169 0042 0E48     		ldr	r0, .L16+16
 170 0044 FFF7FEFF 		bl	UART2_Init115200
 171              	.LVL12:
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s 			page 5


 172              		.loc 1 58 22 view .LVU34
 173 0048 0D4B     		ldr	r3, .L16+20
 174 004a 1860     		str	r0, [r3]
  59:main.c        **** 	/*Init UART with baud 115200 and pass pointer called after transmission end (transmit complet DMA)
  60:main.c        **** 	/*Microcontoler Initialization end...*/
  61:main.c        **** 	/**********************************************************/
  62:main.c        **** 
  63:main.c        **** 
  64:main.c        **** 	/*Register Low Level Transmit function for DLTuc Library*/
  65:main.c        **** 	DLTuc_RegisterTransmitSerialDataCallback(UART2_LowLevelDataTransmit);
 175              		.loc 1 65 2 is_stmt 1 view .LVU35
 176 004c 0D48     		ldr	r0, .L16+24
 177 004e FFF7FEFF 		bl	DLTuc_RegisterTransmitSerialDataCallback
 178              	.LVL13:
  66:main.c        **** 	DLTuc_RegisterGetTimeStampMsCallback(nnOs_GetSystemTime); 	/*Register GetSysTime function*/
 179              		.loc 1 66 2 view .LVU36
 180 0052 0D48     		ldr	r0, .L16+28
 181 0054 FFF7FEFF 		bl	DLTuc_RegisterGetTimeStampMsCallback
 182              	.LVL14:
  67:main.c        **** 	/*The function "GetSysTime" must return the time in ms*/
  68:main.c        **** 
  69:main.c        **** 	/*Now ucDLTlib is ready to work!*/
  70:main.c        **** 	LOGL(DL_INFO, "DLT TESTS START!!!");
 183              		.loc 1 70 2 view .LVU37
 184              		.loc 1 70 2 view .LVU38
 185 0058 0C4B     		ldr	r3, .L16+32
 186 005a 0D4A     		ldr	r2, .L16+36
 187 005c 0D49     		ldr	r1, .L16+40
 188 005e 0420     		movs	r0, #4
 189 0060 FFF7FEFF 		bl	DLTuc_LogOutVarArgs
 190              	.LVL15:
 191              		.loc 1 70 37 view .LVU39
  71:main.c        **** 
  72:main.c        **** 	nnOsKernelLaunch(QUANTA);
 192              		.loc 1 72 2 view .LVU40
 193 0064 0120     		movs	r0, #1
 194 0066 FFF7FEFF 		bl	nnOsKernelLaunch
 195              	.LVL16:
 196              	.L14:
  73:main.c        **** 
  74:main.c        **** 	while(1); /*We shouldn't reach never*/
 197              		.loc 1 74 2 discriminator 4 view .LVU41
 198              		.loc 1 74 10 discriminator 4 view .LVU42
 199              		.loc 1 74 7 discriminator 4 view .LVU43
 200 006a FEE7     		b	.L14
 201              	.L17:
 202              		.align	2
 203              	.L16:
 204 006c 00000000 		.word	TaskContex1
 205 0070 00000000 		.word	TaskContex2
 206 0074 00000000 		.word	TaskContex3
 207 0078 00080140 		.word	1073809408
 208 007c 00000000 		.word	UART2_TransmitDMAEndCallBack
 209 0080 00000000 		.word	.LANCHOR0
 210 0084 00000000 		.word	UART2_LowLevelDataTransmit
 211 0088 00000000 		.word	nnOs_GetSystemTime
 212 008c 00000000 		.word	.LC0
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s 			page 6


 213 0090 4E49414D 		.word	1296124238
 214 0094 314D554E 		.word	1314213169
 215              		.cfi_endproc
 216              	.LFE67:
 218              		.global	count7
 219              		.global	count6
 220              		.global	Uart2HandlerPointer
 221              		.section	.bss.Uart2HandlerPointer,"aw",%nobits
 222              		.align	2
 223              		.set	.LANCHOR0,. + 0
 226              	Uart2HandlerPointer:
 227 0000 00000000 		.space	4
 228              		.section	.bss.count6,"aw",%nobits
 229              		.align	2
 232              	count6:
 233 0000 00000000 		.space	4
 234              		.section	.bss.count7,"aw",%nobits
 235              		.align	2
 238              	count7:
 239 0000 00000000 		.space	4
 240              		.text
 241              	.Letext0:
 242              		.file 2 "d:\\gnu_tools\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\machine\\_
 243              		.file 3 "d:\\gnu_tools\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\sys\\_stdi
 244              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 245              		.file 5 "Drivers/uart_dma/USART_UART_DMA.h"
 246              		.file 6 "Drivers/GPIO_f1/GPIO_fun.h"
 247              		.file 7 "nnRtos/inc/nn_rtosTypes.h"
 248              		.file 8 "../../src/DLTuc.h"
 249              		.file 9 "Drivers/System/RCC_Config.h"
 250              		.file 10 "nnRtos/inc/nnRTOS.h"
ARM GAS  C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:18     .text.UART2_TransmitDMAEndCallBack:00000000 $t
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:24     .text.UART2_TransmitDMAEndCallBack:00000000 UART2_TransmitDMAEndCallBack
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:45     .text.UART2_LowLevelDataTransmit:00000000 $t
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:51     .text.UART2_LowLevelDataTransmit:00000000 UART2_LowLevelDataTransmit
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:80     .text.UART2_LowLevelDataTransmit:00000010 $d
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:85     .rodata.main.str1.4:00000000 $d
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:89     .text.main:00000000 $t
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:95     .text.main:00000000 main
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:204    .text.main:0000006c $d
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:238    .bss.count7:00000000 count7
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:232    .bss.count6:00000000 count6
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:226    .bss.Uart2HandlerPointer:00000000 Uart2HandlerPointer
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:222    .bss.Uart2HandlerPointer:00000000 $d
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:229    .bss.count6:00000000 $d
C:\Users\Teodor\AppData\Local\Temp\ccmatHUM.s:235    .bss.count7:00000000 $d

UNDEFINED SYMBOLS
DLTuc_MessageTransmitDone
TUART_DMA_Trasmit
PLL_Config64MHZ
nnOsKernelInit
nnOsAddThread
GPIO_Pin_Cfg
GPIO_PinSet
UART2_Init115200
DLTuc_RegisterTransmitSerialDataCallback
DLTuc_RegisterGetTimeStampMsCallback
DLTuc_LogOutVarArgs
nnOsKernelLaunch
TaskContex1
TaskContex2
TaskContex3
nnOs_GetSystemTime
